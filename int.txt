SOM (Self-Organizing Map):
- 2D grid ÅŸeklinde yapay sinir aÄŸÄ±.
- Her node, veri uzayÄ±ndaki bir aÄŸÄ±rlÄ±k vektÃ¶rÃ¼nÃ¼ temsil eder.
- Benzer veriler harita Ã¼zerinde birbirine yakÄ±n nodeâ€™larda gruplanÄ±r.
- Veri boyutunu dÃ¼ÅŸÃ¼rmek ve kÃ¼meleme/analiz yapmak iÃ§in kullanÄ±lÄ±r.

BMU (Best Matching Unit):
- Her veri noktasÄ± iÃ§in SOM Ã¼zerindeki en yakÄ±n node.
- BMU indeksi, veri noktasÄ±nÄ±n harita Ã¼zerindeki konumunu gÃ¶sterir.
- SOM eÄŸitiminde ve kÃ¼melemede temel referans noktasÄ±dÄ±r.

PBC (Periodic Boundary Conditions):
- Harita kenarlarÄ±nÄ±n birbirine baÄŸlÄ± olduÄŸunu varsayar (torus/simit gibi).
- Kenardaki nodeâ€™lar da ortadaki nodeâ€™lar gibi komÅŸuluk iliÅŸkisine dahil olur.
- Kenar etkisini azaltÄ±r ve Ã¶ÄŸrenmeyi daha dÃ¼zgÃ¼n hale getirir.




1ï¸âƒ£ SOM ve BMU ile baÅŸlÄ±yoruz

SOM (Self-Organizing Map): Verileri 2D bir haritada gruplaÅŸtÄ±ran bir aÄŸ.

Benzer veriler harita Ã¼zerinde birbirine yakÄ±n nodeâ€™lara yerleÅŸir.

Ã–rnek: DÃ¼ÅŸÃ¼k kaza sayÄ±sÄ±na sahip havayollarÄ± bazÄ± nodeâ€™larda, yÃ¼ksek kaza sayÄ±sÄ±na sahipler baÅŸka nodeâ€™larda toplanÄ±r.

BMU (Best Matching Unit):

Her veri noktasÄ±nÄ±n haritada en yakÄ±n nodeâ€™u.

Bu node, o veriyi temsil eder.

2ï¸âƒ£ KMeans ile clusterâ€™lar

BMU indeksleri kullanÄ±larak SOM Ã¼zerindeki nodeâ€™lar gruplandÄ±rÄ±lÄ±yor.

Burada n_clusters=3 dedik â†’ 3 risk grubu oluÅŸacak.

âš ï¸ Ã–nemli nokta: KMeans cluster numaralarÄ± rastgele atanÄ±r

Ã–rnek: KÃ¼me 0 = dÃ¼ÅŸÃ¼k risk, KÃ¼me 1 = orta risk, KÃ¼me 2 = yÃ¼ksek risk

Ama algoritma bunu otomatik olarak â€œkÃ¼Ã§Ã¼kten bÃ¼yÃ¼ÄŸeâ€ sÄ±ralamaz.

Yani â€œCluster 0 en gÃ¼venliâ€ demek etiketlerin rastgele gelmesiyle aynÄ± ÅŸey deÄŸil, sadece BMUâ€™larÄ±n KMeansâ€™e atanma sÄ±rasÄ±na gÃ¶re geldi.

3ï¸âƒ£ Cluster numaralarÄ±nÄ± sÄ±ralamak istiyorsan

Her cluster iÃ§in bir kriter seÃ§ (Ã¶rneÄŸin fatalities_00_14 ortalamasÄ±).

Clusterâ€™larÄ± bu ortalama deÄŸere gÃ¶re kÃ¼Ã§Ã¼kten bÃ¼yÃ¼ÄŸe sÄ±rala.

Etiketleri yeniden eÅŸle (map() ile).

KÄ±sa Ã¶rnek:

# Cluster baÅŸÄ±na ortalama fatalities
cluster_mean = veri.groupby("cluster")["fatalities_00_14"].mean().sort_values()

# KÃ¼Ã§Ã¼kten bÃ¼yÃ¼ÄŸe yeni etiketler oluÅŸtur
mapping = {old_label: new_label for new_label, old_label in enumerate(cluster_mean.index)}
veri["cluster_sorted"] = veri["cluster"].map(mapping)


BÃ¶ylece cluster_sorted artÄ±k risk seviyesine gÃ¶re kÃ¼Ã§Ã¼kten bÃ¼yÃ¼ÄŸe sÄ±ralanmÄ±ÅŸ olur.

ğŸ’¡ Ã–zet kanka:

SOM â†’ verileri 2D haritada gruplaÅŸtÄ±rÄ±r (benzerler yakÄ±n).

BMU â†’ her veri noktasÄ± iÃ§in en yakÄ±n node.

KMeans â†’ BMUâ€™larÄ± gruplara ayÄ±rÄ±r.

Cluster numarasÄ± = risk seviyesi deÄŸildir; sadece algoritmanÄ±n verdiÄŸi bir etiket.

Risk sÄ±ralamasÄ± yapmak istiyorsan ortalama deÄŸer Ã¼zerinden yeniden etiketleme gerekir.